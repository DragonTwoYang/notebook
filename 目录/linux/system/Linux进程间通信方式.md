### linux 进程间通信

#### 一.概述

大家都知道进程是操作系统中最为成功的一个概念了。

有的程序只有一个进程，但有的程序异常复杂，会有多个进程，这个时候，进程间的通信方式和效率就非常重要。

在linux下的多个进程间的通信机制叫做IPC(Inter-Process Communication)，它是多个进程之间相互沟通的一种方法。

linux 下面IPC工具主要分为三类：

1. 通信：IPC工具关注进程间的数据交换

2. 同步：这些IPC工具关注进程和线程操作之间的同步

3. 信号：信号的原本设计意图并不是为了同步而用，但特定场景仍旧可以将它视为一种同步技术。

   

linux 系统下面进程间通信(IPC)主要由以下几种方式：

-  网络(socket)
- 管道(匿名管道和有名管道)
- 消息队列
- 信号量
- 共享内存
- fcntl和flock文件锁



二.管道和FIFO

管道这个概念使用linux系统的人应该非常熟悉。比如我们平常使用linux命令的时候就会使用到管道。

例如：

​	计算当前目录下面的文件数目   

```
ls  | wc  -l
```

​        linux 会启动2个进程， 一个执行ls命令， 一个执行wc -l 命令，中间就是使用管道将ls进程输出信息传递到计算进程(wc -l) ， 上面命令行中的| 会被bash解释器执行为管道。

管道的基本特性：



- 一个管道是一个字节流

  这意味着使用管道时是不存在小心或消息边界的概念。

  

- 从管道中读取数据

  

- 管道是单向的

  管道的一端只能读或者写，不能同时进行读和写操作。

  如果进程间有读和写操作需求，常规设计是使用2个管道，一个负责读，一个负责写。

  

- 可以确保写入操作不超过PIPE_BUF字节的操作是原子的

  

- 管道的容量是有限的

  管道其实是一个在内核内存中维护的缓冲器，这个缓冲器也是大小有限的。一旦数据被写满之后，内核就会将写的操作挂起，直至读的进程读出了部分数据。

  那我们如何查看linux pipe的最大值是多少？ 

  

  

  



