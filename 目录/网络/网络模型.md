### 网络模型

##### 一 .概述

平时我们所说的网络模型主要指2种：

1.  iso 七层模型

   在网络历史的早期，国际标准化组织(ISO)和国际电报电话咨询委员会(CCITT)共同出版了开放系统互联的七层参考模型。

   一台计算机操作系统中的网络过程包括从应用请求(在协议栈的顶部)到网络介质(底部) ，OSI参考模型把功能分成七个分立的层次。图表示了OSI分层模型。

   ​			

|   应用层   |
| :--------: |
|   表示层   |
|   会话层   |
|   传输层   |
|   网络层   |
| 数据链路层 |
|   物理层   |

上面就是ISO七层模型，从高到低，从应用层到物理层。

| OSI种的层  | 功能                                     | TCP/IP协议簇                                                 |
| ---------- | ---------------------------------------- | ------------------------------------------------------------ |
| 应用层     | 文件传输，电子邮件，文件服务，虚拟终端   | TFTP,HTTP,FTP,Telent，DNS                                    |
| 表示层     | 数据格式化，代码转换，数据加密           | ASCII、ASN.1、JPEG、MPEG                                     |
| 会话层     | 解除与建立点的连接                       |                                                              |
| 传输层     | 位**数据段**提供端对端的接口             | TCP,UDP                                                      |
| 网络层     | 为**数据包**选择路由，拥塞控制、网际互连 | IP，ICMP，OSPF，BGP，IGMP，ARP，RARP，IPX、RIP、OSPF         |
| 数据链路层 | 传输有地址的**帧**以及错误检测功能       | SLIP，CSLIP，PPP，MTU，ARP，RARP，SDLC、HDLC、PPP、STP、帧中继 |
| 物理层     | 以**二进制**数据形式在物理媒体上传输数据 | ISO2110，IEEE802，IEEE802.2，EIA/TIA RS-232、EIA/TIA RS-449、V.35、RJ-45 |

下面简单说明下各层的功能和作用目的

SI模型的七层分别进行以下的操作：

第一层:物理层
　　     负责最后将信息编码成电流脉冲或其它信号用于网上传输。它由计算机和网络介质之间的实际界面组成，可定义电气信号、符号、线的状态和时钟要求、数据编码和数据传输用的连接器。如最常用的RS-232规范、10BASE-T的曼彻斯特编码以及RJ-45就属于第一层。所有比物理层高的层都通过事先定义好的接口而与它通话。如以太网的附属单元接口(AUI)，一个DB-15连接器可被用来连接层一和层二。

第二层:数据链路层
　　     通过物理网络链路提供可靠的数据传输。不同的数据链路层定义了不同的网络和协议特征，其中包括物理编址、网络拓扑结构、错误校验、帧序列以及流控。物理编址（相对应的是网络编址）定义了设备在数据链路层的编址方式；网络拓扑结构定义了设备的物理连接方式，如总线拓扑结构和环拓扑结构；错误校验向发生传输错误的上层协议告警；数据帧序列重新整理并传输除序列以外的帧；流控可能延缓数据的传输，以使接收设备不会因为在某一时刻接收到超过其处理能力的信息流而崩溃。数据链路层实际上由两个独立的部分组成，介质存取控制（Media Access Control,MAC）和逻辑链路控制层（Logical Link Control,LLC）。MAC描述在共享介质环境中如何进行站的调度、发生和接收数据。MAC确保信息跨链路的可靠传输，对数据传输进行同步，识别错误和控制数据的流向。一般地讲，MAC只在共享介质环境中才是重要的，只有在共享介质环境中多个节点才能连接到同一传输介质上。IEEE MAC规则定义了地址，以标识数据链路层中的多个设备。逻辑链路控制子层管理单一网络链路上的设备间的通信，IEEE 802.2标准定义了LLC。LLC支持无连接服务和面向连接的服务。在数据链路层的信息帧中定义了许多域。这些域使得多种高层协议可以共享一个物理数据链路。

第三层:网络层
　       负责在源和终点之间建立连接。它一般包括网络寻径，还可能包括流量控制、错误检查等。相同MAC标准的不同网段之间的数据传输一般只涉及到数据链路层，而不同的MAC标准之间的数据传输都涉及到网络层。例如IP路由器工作在网络层，因而可以实现多种网络间的互联。

第四层:传输层
　    　向高层提供可靠的端到端的网络数据流服务。传输层的功能一般包括流控、多路传输、虚电路管理及差错校验和恢复。流控管理设备之间的数据传输，确保传输设备不发送比接收设备处理能力大的数据；多路传输使得多个应用程序的数据可以传输到一个物理链路上；虚电路由传输层建立、维护和终止；差错校验包括为检测传输错误而建立的各种不同结构；而差错恢复包括所采取的行动（如请求数据重发），以便解决发生的任何错误。传输控制协议（TCP）是提供可靠数据传输的TCP/IP协议族中的传输层协议。

第五层:会话层
　　      建立、管理和终止表示层与实体之间的通信会话。通信会话包括发生在不同网络应用层之间的服务请求和服务应答，这些请求与应答通过会话层的协议实现。它还包括创建检查点，使通信发生中断的时候可以返回到以前的一个状态。

第六层:表示层
　　    提供多种功能用于应用层数据编码和转化，以确保以一个系统应用层发送的信息可以被另一个系统应用层识别。表示层的编码和转化模式包括公用数据表示格式、性能转化表示格式、公用数据压缩模式和公用数据加密模式。
　　    公用数据表示格式就是标准的图像、声音和视频格式。通过使用这些标准格式，不同类型的计算机系统可以相互交换数据；转化模式通过使用不同的文本和数据表示，在系统间交换信息，例如ASCII(American Standard Code for Information Interchange，美国标准信息交换码)；标准数据压缩模式确保原始设备上被压缩的数据可以在目标设备上正确的解压；加密模式确保原始设备上加密的数据可以在目标设备上正确地解密。
　　    表示层协议一般不与特殊的协议栈关联，如QuickTime是Applet计算机的视频和音频的标准，MPEG是ISO的视频压缩与编码标准。常见的图形图像格式PCX、GIF、JPEG是不同的静态图像压缩和编码标准。

第七层:应用层
　　    最接近终端用户的OSI层，这就意味着OSI应用层与用户之间是通过应用软件直接相互作用的。注意，应用层并非由计算机上运行的实际应用软件组成，而是由向应用程序提供访问网络资源的API（Application Program Interface，应用程序接口）组成，这类应用软件程序超出了OSI模型的范畴。应用层的功能一般包括标识通信伙伴、定义资源的可用性和同步通信。因为可能丢失通信伙伴，应用层必须为传输数据的应用子程序定义通信伙伴的标识和可用性。定义资源可用性时，应用层为了请求通信而必须判定是否有足够的网络资源。在同步通信中，所有应用程序之间的通信都需要应用层的协同操作。
　    　OSI的应用层协议包括文件的传输、访问及管理协议(FTAM) ，以及文件虚拟终端协议(VIP)和公用管理系统信息(CMIP)等。

2. TCP/IP分层模型（TCP/IP Layening Model）被称作因特网分层模型(Internet Layering Model)、因特网参考模型(Internet Reference Model)。

   |    应用层    |
   | :----------: |
   |    传输层    |
   |  网际互连层  |
   | 主机到网络层 |

3. TCP/IP协议被组织成四个概念层，其中有三层对应于ISO参考模型中的相应层。ICP/IP协议族并不包含物理层和数据链路层，因此它不能独立完成整个计算机网络系统的功能，必须与许多其他的协议协同工作。
   　　TCP/IP分层模型的四个协议层分别完成以下的功能：
   　　第一层:网络接口层
   　　包括用于协作IP数据在已有网络介质上传输的协议。实际上TCP/IP标准并不定义与ISO数据链路层和物理层相对应的功能。相反，它定义像地址解析协议(Address Resolution Protocol,ARP)这样的协议，提供TCP/IP协议的数据结构和实际物理硬件之间的接口。
   　　第二层:网间层
   　　对应于OSI七层参考模型的网络层。本层包含IP协议、RIP协议(Routing Information Protocol，路由信息协议)，负责数据的包装、寻址和路由。同时还包含网间控制报文协议(Internet Control Message Protocol,ICMP)用来提供网络诊断信息。
   　　第三层:传输层
   　　对应于OSI七层参考模型的传输层，它提供两种端到端的通信服务。其中TCP协议(Transmission Control Protocol)提供可靠的数据流运输服务，UDP协议(Use Datagram Protocol)提供不可靠的用户数据报服务。
   　　第四层:应用层

   　　对应于OSI七层参考模型的应用层和表达层。因特网的应用层协议包括Finger、Whois、FTP(文件传输协议)、Gopher、HTTP(超文本传输协议)、Telent(远程终端协议)、SMTP(简单邮件传送协议)、IRC(因特网中继会话)、NNTP（网络新闻传输协议）等，这也是本书将要讨论的重点。

   

   ##### ​    三. TCP/IP 四层模型和 OSI 七层模型区别

   共同点：
   （1）OSI 参考模型和 TCP/IP 参考模型都采用了层次结构的概念。
   （2）都能够提供面向连接和无连接两种通信服务机制。
   不同点：
   （1）OSI 采用的七层模型，而 TCP/IP 是四层结构。
   （2）TCP/IP 参考模型的网络接口层实际上并没有真正的定义，只是一些概念性的描述。而 OSI 参考模型不仅分了两层，而且每一层的功能都很详尽，甚至在数据链路层又分出一个介质访问子层，专门解决局域网的共享介质问题。
   （3）OSI 模型是在协议开发前设计的，具有通用性。TCP/IP 是先有协议集然后建立模型，不适用于非 TCP/IP 网络。
   （4）实际应用不同，OSI 模型只是理论上的模型，并没有成熟的产品；而 TCP/IP 已经成为国际上的标准。



​       

| **OSI七层模型**         | TCP/IP 四层模型 | **对应网络协议**                                             |
| ----------------------- | --------------- | ------------------------------------------------------------ |
| 应用层(Application)     | 应用层          | HTTP协议（超文本传输协议）、FTP协议（文件传输协议）、TFTP协议（简单文件传输协议）、NFS（网络文件系统协议） |
| 表示层（Presentation）  | 应用层          | TELNET协议（虚拟终端协议）、SNMP协议（简单网络管理协议）     |
| 会话层（Session）       | 应用层          | SMTP协议（简单邮件传输协议）、DNS协议(域名解析协议)          |
| 传输层（Transport）     | 传输层          | TCP（控制传输协议）、UDP（用户数据报协议）                   |
| 网络层（Network）       | 网际互连层      | IP（网际协议）、ICMP（网际控制消息协议）、ARP（地址解析协议）、RARP（反向地址解析协议）、UUCP |
| 数据链路层（Data Link） | 网络接口层      | FDDI、Ethernet、Arpanet、PDN、SLIP（串行线路接口协议）、PPP（点对点协议） |
| 物理层（Physical）      | 网络接口层      | IEEE 802.1A、IEEE 802.2到IEEE 802.11                         |













